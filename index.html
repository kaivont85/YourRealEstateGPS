<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Your Real Estate GPS ‚Äî Digital Card</title>

<!-- QR (SVG) + both PNG exporters -->
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html-to-image/1.11.11/html-to-image.min.js"></script>

<style>
  :root{
    --bg:#0b0f19; --card:#0f1629; --ink:#e8ecf7; --muted:#a7b0c2;
    --brand:#ef4444; --link:#7aa6ff; --border:rgba(255,255,255,.10);
    --qr-bg:#000; --qr-fg:#fff;
    --shadow:0 20px 50px rgba(0,0,0,.45);
  }
  :root[data-theme="light"]{
    --bg:#f7f8fb; --card:#ffffff; --ink:#0b1020; --muted:#556070;
    --brand:#d61f1f; --link:#0a58ff; --border:rgba(10,16,32,.10);
    --qr-bg:#fff; --qr-fg:#000;
    --shadow:0 16px 40px rgba(2,8,23,.12);
  }

  html,body{height:100%}
  body{margin:0; background:linear-gradient(120deg,var(--bg),#0b1220);
       font-family:ui-sans-serif,system-ui,Segoe UI,Inter,Roboto,Arial; color:var(--ink);}

  .wrap{max-width:1120px;margin:28px auto;padding:16px;display:grid;gap:18px}
  .bar{display:flex;align-items:center;justify-content:space-between}
  .titlebar{color:var(--muted);font-size:14px}
  .btn{display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:12px;
       border:1px solid var(--border);background:transparent;color:var(--ink);cursor:pointer;text-decoration:none}
  .btn.primary{background:var(--ink);color:var(--bg)}
  .btn:hover{box-shadow:0 6px 20px rgba(0,0,0,.12)}

  .grid{display:grid;gap:18px}
  @media(min-width:980px){.grid{grid-template-columns:1fr 1fr}}

  .card{background:var(--card);border:1px solid var(--border);border-radius:22px;overflow:hidden;box-shadow:var(--shadow)}

  /* FRONT */
  .front{display:grid;grid-template-columns:1.1fr 0.9fr;min-height:460px}
  .photo{position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}
  .photo img{width:100%;height:100%;object-fit:cover;display:block}
  .photo:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.22),rgba(0,0,0,0))}
  .info{display:flex;flex-direction:column;padding:34px 30px;gap:18px}
  .tagline{color:var(--brand);font-style:italic;font-size:15px;letter-spacing:.2px}
  .name{font-size:36px;line-height:1.05;font-weight:900;letter-spacing:.2px}
  .title{font-size:16px;color:var(--muted);font-weight:600}

  /* Logo pill ‚Äî one line */
  .logo{margin-top:auto;display:flex;align-items:center;gap:16px;border:1px solid var(--border);
        padding:10px 18px;border-radius:50px;background:#fff;color:#0b1020;width:fit-content}
  .logo img{height:42px;width:42px;border-radius:50%;object-fit:contain;display:block}
  .logo .brandtext{font-weight:700;font-size:16px;white-space:nowrap;letter-spacing:.3px}

  /* BACK */
  .back{display:grid;grid-template-rows:auto 1fr auto;padding:24px;gap:16px;min-height:460px}
  .qrs{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  .qr{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;
       background:linear-gradient(180deg,rgba(255,255,255,.04),transparent);
       border:1px dashed var(--border);border-radius:16px;padding:14px}
  .qr .qrsvg{width:150px;height:150px;display:flex;align-items:center;justify-content:center}
  .qr .qrsvg svg{width:100%;height:100%;display:block}
  .qr a{margin-top:14px;font-size:13px;color:var(--link);text-decoration:underline;word-break:break-all}

  .contact{text-align:center;font-size:15px;color:var(--muted);line-height:1.6}
  .contact a{color:var(--link);text-decoration:underline}

  .social{display:flex;gap:16px;justify-content:center;padding:6px 0 2px}
  .icon{width:38px;height:38px;display:grid;place-items:center;border-radius:50%;color:#fff}
  .icon svg{width:18px;height:18px;fill:#fff}
  .icon.fb{background:#1877F2}.icon.ig{background:#E4405F}.icon.li{background:#0A66C2}.icon.yt{background:#FF0000}

  .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
  .note{font-size:12px;color:var(--muted)}

  @media(max-width:640px){
    .front{grid-template-columns:1fr;min-height:unset}
    .photo{min-height:360px}
    .info{align-items:center;text-align:center;padding:20px}
    .qrs{grid-template-columns:1fr}
    .qr .qrsvg{width:128px;height:128px}
    .actions .btn{width:100%;justify-content:center}
    .note{display:none}
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="bar">
    <div class="titlebar">Your Real Estate GPS</div>
    <button id="themeBtn" class="btn">Toggle Dark / Light</button>
  </div>

  <div class="grid" id="card-wrapper">
    <!-- FRONT -->
    <section class="card front" id="card-front">
      <div class="photo">
        <img src="images/headshot.jpg" alt="Portrait">
      </div>
      <div class="info">
        <div class="tagline">‚ÄúYour Real Estate GPS‚Äù</div>
        <div class="name">MATT TOLOOEE</div>
        <div class="title">Managing Broker / Owner</div>
        <div class="logo">
          <img src="images/logo.jpg" alt="Logo">
          <div class="brandtext">Metro Real Estate Group</div>
        </div>
      </div>
    </section>

    <!-- BACK -->
    <section class="card back" id="card-back">
      <div class="qrs">
        <div class="qr">
          <div id="qr-website" class="qrsvg"></div>
          <a href="https://metrorealestategroup.co" target="_blank">metrorealestategroup.co</a>
        </div>
        <div class="qr">
          <div id="qr-linktree" class="qrsvg"></div>
          <a href="https://linktr.ee/metrorealestategroup" target="_blank">linktr.ee/metrorealestategroup</a>
        </div>
      </div>

      <div class="contact">
        üìç <a href="https://maps.google.com/?q=106+N+Tejon+Street,+Colorado+Springs,+CO+80903">106 N. Tejon Street, Colorado Springs, CO 80903</a><br/>
        üìç <a href="https://maps.google.com/?q=501+S+Cherry+Street,+Ste+1100,+Denver,+CO+80206">501 S. Cherry Street, Ste 1100, Denver, CO 80206</a><br/>
        ‚úâÔ∏è <a href="mailto:matt@metro-realestategroup.com">matt@metro-realestategroup.com</a><br/>
        üìû <a href="tel:+17193105185">719.310.5185</a> | <a href="tel:+17205172345">720.517.2345</a>
      </div>

      <div class="social">
        <a class="icon fb" href="https://www.facebook.com/MetroRealEstateGroup" target="_blank" aria-label="Facebook">
          <svg viewBox="0 0 24 24"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07C2 17.1 5.66 21.25 10.44 22v-7.02H7.9v-2.91h2.54v-2.22c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.23.2 2.23.2v2.45h-1.26c-1.24 0-1.63.77-1.63 1.56v1.89h2.78l-.44 2.91h-2.34V22C18.34 21.25 22 17.1 22 12.07z"/></svg>
        </a>
        <a class="icon ig" href="https://www.instagram.com/metrorealestategroupco/" target="_blank" aria-label="Instagram">
          <svg viewBox="0 0 24 24"><path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm0 2h10c1.66 0 3 1.34 3 3v10c0 1.66-1.34 3-3 3H7c-1.66 0-3-1.34-3-3V7c0-1.66 1.34-3 3-3zm11 1.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5zM12 7a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7zm0 2a3 3 0 1 1-.001 6.001A3 3 0 0 1 12 9z"/></svg>
        </a>
        <a class="icon li" href="https://www.linkedin.com/in/matttolooeeyourrealestategps/" target="_blank" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24"><path d="M19 3A2.94 2.94 0 0 1 22 6v12a2.94 2.94 0 0 1-3 3H5a2.94 2.94 0 0 1-3-3V6a2.94 2.94 0 0 1 3-3h14zM8.34 9.34H6V18h2.34V9.34zM7.17 6.94A1.37 1.37 0 1 0 7.17 9.68a1.37 1.37 0 0 0 0-2.74zM18 18v-4.66c0-2.49-1.33-3.65-3.11-3.65-1.44 0-2.08.79-2.44 1.35V9.34H10V18h2.34v-4.51c0-1.19.23-2.35 1.71-2.35 1.46 0 1.49 1.36 1.49 2.43V18H18z"/></svg>
        </a>
        <a class="icon yt" href="https://youtube.com/@metrorealesategroup?si=_IOQRio07hXz0k-M" target="_blank" aria-label="YouTube">
          <svg viewBox="0 0 24 24"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 0 0 .5 6.2 31.7 31.7 0 0 0 0 12a31.7 31.7 0 0 0 .6 5.8 3 3 0 0 0 2.1 2.1c1.9.6 9.3.6 9.3.6s7.5 0 9.4-.6a3 3 0 0 0 2.1-2.1A31.7 31.7 0 0 0 24 12a31.7 31.7 0 0 0-.5-5.8zM9.75 15.5v-7l6 3.5-6 3.5z"/></svg>
        </a>
      </div>
    </section>
  </div>

  <div class="actions">
    <a id="btn-vcf" class="btn primary" download="Matt-Tolooee.vcf">Download vCard</a>
    <button id="saveFront" class="btn">Save Front as PNG</button>
    <button id="saveBack" class="btn">Save Back as PNG</button>
    <button id="saveFull" class="btn">Save Full Card as PNG</button>
    <span class="note">Tip: toggle theme before exporting to get dark or light PNGs.</span>
  </div>
</div>

<script>
  const CONFIG = {
    name: "MATT TOLOOEE",
    title: "Managing Broker / Owner",
    company: "Metro Real Estate Group",
    website: "https://metrorealestategroup.co",
    linktree: "https://linktr.ee/metrorealestategroup",
    email: "matt@metro-realestategroup.com",
    phone1: "+17193105185",
    phone2: "+17205172345",
    addr1: "106 N. Tejon Street, Colorado Springs, CO 80903",
    addr2: "501 S. Cherry Street, Ste 1100, Denver, CO 80206"
  };

  /* Theme */
  const root=document.documentElement;
  const themeBtn=document.getElementById("themeBtn");
  const getTheme=()=>localStorage.getItem("theme")||"dark";
  const setTheme=(t)=>{root.setAttribute("data-theme",t==="light"?"light":"dark");localStorage.setItem("theme",t);};
  setTheme(getTheme());

  /* QR as inline SVG */
  function makeQR(elId, text){
    const qr = qrcode(0, 'M'); qr.addData(text); qr.make();
    const fg = getComputedStyle(document.documentElement).getPropertyValue('--qr-fg').trim() || '#fff';
    const bg = getComputedStyle(document.documentElement).getPropertyValue('--qr-bg').trim() || '#000';
    const svg = qr.createSvgTag({cellSize:4, margin:0})
      .replace(/fill="black"/g, `fill="${fg}"`)
      .replace(/fill="white"/g, `fill="${bg}"`);
    document.getElementById(elId).innerHTML = svg;
  }
  function drawAllQRs(){ makeQR('qr-website', CONFIG.website); makeQR('qr-linktree', CONFIG.linktree); }
  drawAllQRs();
  themeBtn.addEventListener('click', ()=>{ setTheme(getTheme()==='dark'?'light':'dark'); setTimeout(drawAllQRs,0); });

  /* vCard */
  const vcard=[
    "BEGIN:VCARD","VERSION:3.0",
    `FN:${CONFIG.name}`, `N:${CONFIG.name};;;;`,
    `ORG:${CONFIG.company}`, `TITLE:${CONFIG.title}`,
    `TEL;TYPE=cell,voice:${CONFIG.phone1}`,
    `TEL;TYPE=cell,voice:${CONFIG.phone2}`,
    `EMAIL;TYPE=internet:${CONFIG.email}`,
    `URL:${CONFIG.website}`,
    `ADR;TYPE=work:;;${CONFIG.addr1}`,
    `ADR;TYPE=work:;;${CONFIG.addr2}`,
    "END:VCARD"
  ].join("\n");
  const vBlob=new Blob([vcard],{type:"text/vcard;charset=utf-8"});
  document.getElementById("btn-vcf").href=URL.createObjectURL(vBlob);

  /* ---- Robust PNG export ----
     Use html2canvas for nodes that contain <img> (front/full via file://),
     and html-to-image for nodes without <img> (back). */
  function hasImages(node){ return node.querySelector('img') !== null; }

  async function exportNode(node, filename){
    const scale = Math.max(2, window.devicePixelRatio*2);
    const width  = node.scrollWidth;
    const height = node.scrollHeight;

    if (hasImages(node)) {
      // html2canvas path (better with local images)
      const canvas = await html2canvas(node,{
        useCORS:true, allowTaint:false, backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--card')||'#0f1629',
        scale, width, height, windowWidth: width, windowHeight: height, scrollY: 0
      });
      const url = canvas.toDataURL('image/png');
      const a=document.createElement('a'); a.href=url; a.download=filename;
      if(typeof a.download==='string'){ a.click(); } else { window.open(url,'_blank'); }
    } else {
      // html-to-image path (great for SVG-only content)
      const dataUrl = await htmlToImage.toPng(node,{
        backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--card')||'#0f1629',
        pixelRatio: scale, width, height, canvasWidth: width, canvasHeight: height
      });
      const a=document.createElement('a'); a.href=dataUrl; a.download=filename;
      if(typeof a.download==='string'){ a.click(); } else { window.open(dataUrl,'_blank'); }
    }
  }

  document.getElementById('saveFront').addEventListener('click',()=>exportNode(document.getElementById('card-front'), 'yourrealestategps-front.png'));
  document.getElementById('saveBack').addEventListener('click', ()=>exportNode(document.getElementById('card-back'),  'yourrealestategps-back.png'));
  document.getElementById('saveFull').addEventListener('click', ()=>exportNode(document.getElementById('card-wrapper'),'yourrealestategps-full.png'));
</script>
</body>
</html>

